# Dashboard (Главная)

Главный экран (`/`) — приоритет на отображение данных о тратах.

## Что показываем
- KPI:
  - “Траты” за период (учитывает фильтр категории, если включен)
  - “В среднем в день” (total / количество дней периода)
  - “Фокус” (выбранная категория или топ категория)
- Диаграммы:
  1. Линия: траты по дням (если выбрана категория — по выбранной категории)
  2. Donut: доли категорий (всегда по периоду, подсвечиваем выбранную)
  3. Bar: топ категорий (всегда по периоду, подсвечиваем выбранную)
- Регулярные траты:
  - отдельная карточка “Регулярные траты” на выбранный месяц
  - статусы `создано/ожидает` (поле `committed` от backend)
  - плюс рядом с карточкой открывает модал сразу в режиме “Регулярная”
- Список последних трат (10–12), кликом по категории включаем фильтр.

## Интерактив
- Donut/bar: клик по сектору/столбцу включает фильтр категории.
- Повторный клик по той же категории в списке — снимает фильтр.
- Кнопка “Сбросить” снимает фильтр.
- FAB “+” открывает быстрое модальное добавление траты.
- Кнопка “Экспорт” выгружает данные в XLSX (backend `GET /api/export/xlsx`).

## Период
Пресеты:
- 7 дней
- 30 дней
- месяц (текущий)
- свои даты (появляются `app-date-input`)

## Агрегации и селекторы
Файлы:
- `/Users/slave/FettrCode/money-flow/src/app/features/dashboard/dashboard.selectors.ts`

Ключевые функции:
- `filterTransactionsByPeriod(...)`
- `filterExpenseTransactions(...)`
- `groupExpensesByDay(...)`
- `groupExpensesByCategory(...)`
- `formatMoney(...)`

## Ограничения/допущения
- Валюты не конвертируем (если валют несколько, UI показывает предупреждение и не форматирует как currency).
